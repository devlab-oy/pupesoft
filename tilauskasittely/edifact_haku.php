<?php
die;

require '../inc/edifact_functions.inc';

require "../inc/parametrit.inc";

if ($task == 'B1') {

  $sanoma = "UNA:+.? 'UNB+UNOC:2+003708274241:30+003706664131:30+141211:1731+110++++++'UNH+1+IFTMBF:D:97B:UN:EXWL12'BGM+335+KTKHAM05010+9'DTM+137:201412111731:203'RFF+VON:FESE-3512-004'RFF+CU:TLKR-400030:2'TDT+20++1++NIKLASHIP+++ZDHM4:103::HOOGE'LOC+5+FIKTMU::86:KOTKA'DTM+133:201501050000:203'LOC+8+DEHAM::86:DEEXPEDITOR'DTM+132:201501100000:203'RFF+VON:KTKHAM05010'TDT+30++1++NIKLASHIP+++2FLR9:103::HANJIN EUROPE'LOC+5++DEHAM::86'DTM+133:201501100000:203'LOC+8+KRKWA::86'DTM+132:201503030000:203'RFF+VON:HAMKR14010'NAD+OS+003708274241:100++Kotkamills Oy:Norskankatu 6:FI-48101:FI+++++FI'NAD+CZ+003708274241:100'NAD+FX+DONGWHAC++DONGWHAC+148-9 Gajwa-dong+INCHEON++404-250+KR'NAD+TR+003706664131'GID++22:RL'LOC+20+DEHAM:16'PIA+1+4804 31:HS'FTX+ZSM++LOLO'FTX+AAA+++PAPER'FTX+PRD+++TL352_045_0'FTX+TRA+++Tasainen kontitus, -Max 23 t /40 HC-Rullan halkaisija 930 mm-HUOM?: YHT:EEN KONTTIIN EI MIELELLÄÄN ERI LEVEYKSIÄ, ELI VÄLTETÄÄN SEKAKONTTEJA:.-KONTIT LASTATAAN KUITENKIN MAHD. TÄYTEEN.--'MEA+AAE+CT+RO:1'MEA+AAE+WD+MMT:2530'MEA+AAE+DI+MMT:879'MEA+AAE+G+KGM:22500'RFF+CU:TLKR-400030:2'EQD+CN++C40HC'EQN+2'RFF+AKC:FESE-3512-004'NAD+CW+NIKLASHIP'NAD+ZST+FIKTMU'UNT+38+1'UNZ+1+110'";

  kasittele_bookkaussanoma($sanoma);

}


if ($task == 'B2') {

  $sanoma = "UNA:+.? 'UNB+UNOC:2+003708274241:30+003706664131:30+141212:1111+114++++++'UNH+1+IFTMBF:D:97B:UN:EXWL12'BGM+335+KTKHAM05018+9'DTM+137:201412121111:203'RFF+VON:4506635310'RFF+CU:TLKR-400030:4'TDT+20++1++COSCOFI+++V7DF9:103::LANTAU ARROW'LOC+5+FIKTMU::86:KOTKA'DTM+133:201501050000:203'LOC+8+DEHAM::86:DEEXPEDITOR'DTM+132:201501100000:203'RFF+VON:KTKHAM05018'TDT+30++1++COSCOFI+++2FLR9:103::HANJIN EUROPE'LOC+5++DEHAM::86'DTM+133:201501100000:203'LOC+8+KRPUS::86'DTM+132:201503040000:203'RFF+VON:HAMKR14018'NAD+OS+003708274241:100++Kotkamills Oy:Norskankatu 6:FI-48101:FI+++++FI'NAD+CZ+003708274241:100'NAD+FX+DONGWHAC++DONGWHAC+148-9 Gajwa-dong+INCHEON++404-250+KR'NAD+TR+003706664131'GID++20:RL'LOC+20+DEHAM:16'PIA+1+4804 31:HS'FTX+ZSM++LOLO'FTX+AAA+++PAPER'FTX+PRD+++TL352_045_0'FTX+TRA+++Tasainen kontitus, -Max 23 t /40 HC-Rullan halkaisija 930 mm-HUOM?: YHT:EEN KONTTIIN EI MIELELLÄÄN ERI LEVEYKSIÄ, ELI VÄLTETÄÄN SEKAKONTTEJA:.-KONTIT LASTATAAN KUITENKIN MAHD. TÄYTEEN.--'MEA+AAE+CT+RO:1'MEA+AAE+WD+MMT:2560'MEA+AAE+DI+MMT:879'MEA+AAE+G+KGM:20000'RFF+CU:TLKR-400030:4'EQD+CN++C40HC'EQN+6'RFF+AKC:4506635310'NAD+CW+COSCOFI'NAD+ZST+FIKTMU'UNT+38+1'UNZ+1+114'";

  kasittele_bookkaussanoma($sanoma);

}

if ($task == 'B3') {

  $sanoma = "UNA:+.? '
UNB+UNOC:2+003708274241:30+003706664131:30+141212:1111+114++++++'
UNH+1+IFTMBF:D:97B:UN:EXWL12'
BGM+335+KTKHAM05018+9'
DTM+137:201412121111:203'
RFF+VON:4506635310'
RFF+CU:TLKR-400030:4'
TDT+20++1++COSCOFI+++V7DF9:103::LANTAU ARROW'
LOC+5+FIKTMU::86:KOTKA'
DTM+133:201501050000:203'
LOC+8+DEHAM::86:DEEXPEDITOR'
DTM+132:201501100000:203'
RFF+VON:KTKHAM05018'
TDT+30++1++COSCOFI+++2FLR9:103::HANJIN EUROPE'
LOC+5++DEHAM::86'
DTM+133:201501100000:203'
LOC+8+KRPUS::86'
DTM+132:201503040000:203'
RFF+VON:HAMKR14018'
NAD+OS+003708274241:100++Kotkamills Oy:Norskankatu 6:FI-48101:FI+++++FI'
NAD+CZ+003708274241:100'
NAD+FX+DONGWHAC++DONGWHAC+148-9 Gajwa-dong+INCHEON++404-250+KR'
NAD+TR+003706664131'
GID++20:RL'
LOC+20+DEHAM:16'
PIA+1+4804 31:HS'
FTX+ZSM++LOLO'
FTX+AAA+++PAPER'
FTX+PRD+++TL352_045_0'
FTX+TRA+++Tasainen kontitus, -Max 23 t /40 HC-Rullan halkaisija 930 mm-HUOM?: YHT:EEN KONTTIIN EI MIELELLÄÄN ERI LEVEYKSIÄ, ELI VÄLTETÄÄN SEKAKONTTEJA:.-KONTIT LASTATAAN KUITENKIN MAHD. TÄYTEEN.--'
MEA+AAE+CT+RO:1'
MEA+AAE+WD+MMT:2560'
MEA+AAE+DI+MMT:879'
MEA+AAE+G+KGM:20000'
RFF+CU:TLKR-400030:4'
EQD+CN++C40HC'
EQN+6'
RFF+AKC:4506635310'
NAD+CW+COSCOFI'
NAD+ZST+FIKTMU'
UNT+38+1'
UNZ+1+114'
";

  kasittele_bookkaussanoma($sanoma);

}


if ($task == 'R1') {

  $sanoma = "UNA:+.? 'UNB+UNOC:2+003708274241:30+003706664131:30+141223:0725+246++++++'UNH+1+DESADV:D:97B:UN:EXWL15'BGM+15+5109355+9'DTM+137:201412230725:203'NAD+FX+::86++RP+Mussalon terminaali+KOTKA++48310+FI'NAD+FP+4400101:100++Kotkamills Oy+Norskankatu 6+Kotka++FI-48101+FI'NAD+CZ+4400101:100++Kotkamills Oy'TDT+10++2++VR::86:VR+++463941-5'LOC+5+FIIMATRA::86:IMATRA'DTM+180:201501100000:203'DTM+143:201412230713:203'LOC+8+FIKTMU::86:KOTKA'DTM+132:201412230713:203'EQD+RR+463941-5'CPS+MOL'PAC+8++RL'MEA+AAE+AAL+KGM:8067'MEA+AAE+G+KGM:8067'MEA+AAE+WD+MMT:2530'MEA+AAE+DI+MMT:879'PCI+16+DONGWHAC-141114-'LIN+1'PIA+1+48043180:HS'NAD+OS+003708274241:100++Kotkamills Oy'NAD+SB+FCFORES::86++FCFORES'NAD+FX+DONGWHAC::86++DONGWHAC'NAD+CZ+003708274241:100++Kotkamills Oy'TDT+20++1+++++V7DF9:::LANTAU ARROW'FTX+AAA+++PAPER'RFF+CU:TLKR-400030:1'RFF+VON:KTKHAM05018'DTM+ZEL:201501100000:203'LOC+5+FIIMATRA::86:Tainio Millwarehouse'LOC+8+FIKTMU::86:Kotka'LOC+20+KR:162:86:INCHEON'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1010'MEA+AAE+AAL+KGM:1010'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050599140219'GIN+ZPI+25'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1010'MEA+AAE+AAL+KGM:1010'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050600140219'GIN+ZPI+26'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1009'MEA+AAE+AAL+KGM:1009'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050602140219'GIN+ZPI+27'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1010'MEA+AAE+AAL+KGM:1010'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050603140219'GIN+ZPI+28'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1010'MEA+AAE+AAL+KGM:1010'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050605140219'GIN+ZPI+29'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1010'MEA+AAE+AAL+KGM:1010'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050606140219'GIN+ZPI+30'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1002'MEA+AAE+AAL+KGM:1002'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050619140219'GIN+ZPI+42'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1006'MEA+AAE+AAL+KGM:1006'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050620140219'GIN+ZPI+43'CPS+MOL'PAC+14++RL'MEA+AAE+AAL+KGM:14377'MEA+AAE+G+KGM:14377'MEA+AAE+WD+MMT:2560'MEA+AAE+DI+MMT:879'PCI+16+DONGWHAC-141114-'LIN+4'PIA+1+48043180:HS'NAD+OS+003708274241:100++Kotkamills Oy'NAD+SB+FCFORES::86++FCFORES'NAD+FX+DONGWHAC::86++DONGWHAC'NAD+CZ+003708274241:100++Kotkamills Oy'TDT+20++1+++++V7DF9:::LANTAU ARROW'FTX+AAA+++PAPER'RFF+CU:TLKR-400030:4'RFF+VON:KTKHAM05018'DTM+ZEL:201501100000:203'LOC+5+FIIMATRA::86:Tainio Millwarehouse'LOC+8+FIKTMU::86:Kotka'LOC+20+KR:162:86:INCHEON'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1026'MEA+AAE+AAL+KGM:1026'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050722140219'GIN+ZPI+3001'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1025'MEA+AAE+AAL+KGM:1025'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050724140219'GIN+ZPI+3003'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1028'MEA+AAE+AAL+KGM:1028'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050725140219'GIN+ZPI+3004'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1024'MEA+AAE+AAL+KGM:1024'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050726140219'GIN+ZPI+3005'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1026'MEA+AAE+AAL+KGM:1026'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050727140219'GIN+ZPI+3006'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1026'MEA+AAE+AAL+KGM:1026'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050728140219'GIN+ZPI+3007'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1029'MEA+AAE+AAL+KGM:1029'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050729140219'GIN+ZPI+3008'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1030'MEA+AAE+AAL+KGM:1030'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050735140219'GIN+ZPI+3014'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1027'MEA+AAE+AAL+KGM:1027'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050736140219'GIN+ZPI+3015'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1028'MEA+AAE+AAL+KGM:1028'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050737140219'GIN+ZPI+3016'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1029'MEA+AAE+AAL+KGM:1029'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050738140219'GIN+ZPI+3017'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1022'MEA+AAE+AAL+KGM:1022'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050739140219'GIN+ZPI+3018'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1027'MEA+AAE+AAL+KGM:1027'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050740140219'GIN+ZPI+3019'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1030'MEA+AAE+AAL+KGM:1030'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2560'PCI+999'GIN+ZUN+70050741140219'GIN+ZPI+3020'UNT+253+1'UNZ+1+246'";

  kasittele_rahtikirjasanoma($sanoma);

}

if ($task == 'R2') {

  $sanoma ="UNA:+.? 'UNB+UNOC:2+003708274241:30+003706664131:30+141223:0710+245++++++'UNH+1+DESADV:D:97B:UN:EXWL15'BGM+15+5109354+9'DTM+137:201412230710:203'NAD+FX+::86++RP+Mussalon terminaali+KOTKA++48310+FI'NAD+FP+4400101:100++Kotkamills Oy+Norskankatu 6+Kotka++FI-48101+FI'NAD+CZ+4400101:100++Kotkamills Oy'TDT+10++2++VR::86:VR+++463119-8'LOC+5+FIIMATRA::86:IMATRA'DTM+180:201501100000:203'DTM+143:201412230656:203'LOC+8+FIKTMU::86:KOTKA'DTM+132:201412230656:203'EQD+RR+463119-8'CPS+MOL'PAC+17++RL'MEA+AAE+AAL+KGM:22119'MEA+AAE+G+KGM:22119'MEA+AAE+WD+MMT:2530'MEA+AAE+DI+MMT:1081'PCI+16+DONGWHAC-141114-'LIN+1'PIA+1+48043158:HS'NAD+OS+003708274241:100++Kotkamills Oy'NAD+SB+FCFORES::86++FCFORES'NAD+FX+DONGWHAC::86++DONGWHAC'NAD+CZ+003708274241:100++Kotkamills Oy'TDT+20++1+++++ZDHM4:::HOOGE'FTX+AAA+++PAPER'RFF+CU:TLKR-400036:1'RFF+VON:KTKHAM05010'DTM+ZEL:201501100000:203'LOC+5+FIIMATRA::86:Tainio Millwarehouse'LOC+8+FIKTMU::86:Kotka'LOC+20+KR:162:86:INCHEON'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1298'MEA+AAE+AAL+KGM:1298'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050744140219'GIN+ZPI+1'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1301'MEA+AAE+AAL+KGM:1301'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050745140219'GIN+ZPI+2'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1297'MEA+AAE+AAL+KGM:1297'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050746140219'GIN+ZPI+3'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1308'MEA+AAE+AAL+KGM:1308'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050747140219'GIN+ZPI+4'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1306'MEA+AAE+AAL+KGM:1306'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050749140219'GIN+ZPI+5'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1309'MEA+AAE+AAL+KGM:1309'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050751140219'GIN+ZPI+6'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1298'MEA+AAE+AAL+KGM:1298'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050752140219'GIN+ZPI+7'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1299'MEA+AAE+AAL+KGM:1299'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050753140219'GIN+ZPI+8'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1296'MEA+AAE+AAL+KGM:1296'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050754140219'GIN+ZPI+9'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1303'MEA+AAE+AAL+KGM:1303'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050755140219'GIN+ZPI+10'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1298'MEA+AAE+AAL+KGM:1298'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050756140219'GIN+ZPI+11'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1300'MEA+AAE+AAL+KGM:1300'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050757140219'GIN+ZPI+12'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1300'MEA+AAE+AAL+KGM:1300'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050759140219'GIN+ZPI+13'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1307'MEA+AAE+AAL+KGM:1307'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050760140219'GIN+ZPI+14'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1298'MEA+AAE+AAL+KGM:1298'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050761140219'GIN+ZPI+15'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1302'MEA+AAE+AAL+KGM:1302'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050762140219'GIN+ZPI+16'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1299'MEA+AAE+AAL+KGM:1299'MEA+AAE+DI+MMT:1020'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050764140219'GIN+ZPI+17'CPS+MOL'PAC+5++RL'MEA+AAE+AAL+KGM:4988'MEA+AAE+G+KGM:4988'MEA+AAE+WD+MMT:2490'MEA+AAE+DI+MMT:879'PCI+16+DONGWHAC-141114-'LIN+3'PIA+1+48043180:HS'NAD+OS+003708274241:100++Kotkamills Oy'NAD+SB+FCFORES::86++FCFORES'NAD+FX+DONGWHAC::86++DONGWHAC'NAD+CZ+003708274241:100++Kotkamills Oy'TDT+20++1+++++V7DF9:::LANTAU ARROW'FTX+AAA+++PAPER'RFF+CU:TLKR-400030:3'RFF+VON:KTKHAM05018'DTM+ZEL:201501100000:203'LOC+5+FIIMATRA::86:Tainio Millwarehouse'LOC+8+FIKTMU::86:Kotka'LOC+20+KR:162:86:INCHEON'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:998'MEA+AAE+AAL+KGM:998'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050717140219'GIN+ZPI+2051'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:997'MEA+AAE+AAL+KGM:997'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050718140219'GIN+ZPI+2052'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:998'MEA+AAE+AAL+KGM:998'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050719140219'GIN+ZPI+2053'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:998'MEA+AAE+AAL+KGM:998'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050720140219'GIN+ZPI+2054'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:997'MEA+AAE+AAL+KGM:997'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050721140219'GIN+ZPI+2055'UNT+253+1'UNZ+1+245'";

  kasittele_rahtikirjasanoma($sanoma);

}

if ($task == 'B4') {

  $sanoma = "UNA:+.? '
UNB+UNOC:2+003708274241:30+003706664131:30+141217:1025+144++++++'
UNH+1+IFTMBF:D:97B:UN:EXWL12'
BGM+335+KTKANR14011V+5'
DTM+137:201412171025:203'
RFF+VON:20222577'
RFF+CU:KATR-400163:1'
TDT+20++1++MSCFI+++H3JN:103::MSC IRIS'
LOC+5+FIKTMU::86:KOTKA'
DTM+133:201501140000:203'
LOC+8+BEANR::86:ANTWERPEN'
DTM+132:201501170000:203'
RFF+VON:KTKANR14011V'
TDT+30++1++MSCFI+++OXLD2:103::TBN'
LOC+5++BEANR::86'
DTM+133:201501170000:203'
LOC+8+TRYPO::86'
DTM+132:201502010000:203'
RFF+VON:ANRTR24011V'
NAD+OS+003708274241:100++Kotkamills Oy:Norskankatu 6:FI-48101:FI+++++FI'
NAD+CZ+003708274241:100'
NAD+FX+ORMANTR++ORMANTR+Keresteciler Sitesi 3.+ISTANBUL++34306+TR'
NAD+TR+003706664131'
GID++64:RL'
LOC+20+BEANR:16'
PIA+1+4804 41:HS'
FTX+ZSM++LOLO'
FTX+AAA+++PAPER'
FTX+PRD+++Absorbex Performer Kraft Paper 164 g/m2'
FTX+TRA+++x 40 HC.-Max payload 24 tons. Puutavaran'
FTX+TRA+++x 40 HC. Destination Yilport. Max 24 ton'
MEA+AAE+CT+RO:1'
MEA+AAE+WD+MMT:1330'
MEA+AAE+DI+MMT:1000'
MEA+AAE+G+KGM:48000'
RFF+CU:KATR-400163:1'
EQD+CN++C40HC'
EQN+13'
RFF+AKC:20222577'
NAD+CW+MSCFI'
NAD+ZST+FIKTMU'
UNT+39+1'
UNZ+1+144'";

  kasittele_bookkaussanoma($sanoma);

}

if ($task == 'R3') {

  $sanoma ="UNB+UNOC:2+003708274241:30+003706800420:30+141024:1032+KM0007++++++'UNH+1+DESADV:D:97B:UN:EXWL15'BGM+15+RK0003+9'DTM+137:201410241020:203'NAD+FX+STEVECO::86++Steveco+Steveco+Kotka++48101+FI'NAD+CZ+003708274241:100++Kotkamills Oy'TDT+10++3++RP::86:RP Logistics Oy+++XYP-555'LOC+5+FIKTKM::86:KOTKA'DTM+180:201410300000:203'DTM+143:201410300605:203'LOC+8+FIKTKC::86:KOTKA, MUSSALO'DTM+132:201410101600:203'CPS+MOL'PAC+1++RL'MEA+AAE+AAL+KGM:2000'MEA+AAE+G+KGM:2000'MEA+AAE+WD+MMT:1050'MEA+AAE+DI+MMT:1250'PCI+16+MERINOPA-EMAIL 08.06.2013-'LIN+1'PIA+1+4810 55:HS'NAD+OS+003708274241:100++Kotkamills Oy'NAD+SB+SEINDIA::86++SE INDIA'NAD+FX+MERINOPA::86++MERINOPA'NAD+CZ+003708274241:100++Kotkamills Oy'TDT+20++1+++++D5DM7:::CHARLOTTA B'FTX+AAA+++PAPER'RFF+CU:TILAUS-0003:1'RFF+VON:MATKA123'DTM+ZEL:201407010000:203'LOC+5+FIKTKM::86:Kotka warehouse'LOC+8+FIKTKC::86:Kotka'LOC+20+MERINOPA::86:HARYANA'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1000'MEA+AAE+AAL+KGM:1000'MEA+AAE+DI+MMT:1250'MEA+AAE+WD+MMT:1050'PCI+999'GIN+ZUN+0016'GIN+ZPI+1'UNT+117+1'UNZ+1+KM0007'";

  kasittele_rahtikirjasanoma($sanoma);

}

if ($task == 'R4') {

  $sanoma ="UNA:+.? 'UNB+UNOC:2+003708274241:30+003706664131:30+141222:1705+240++++++'UNH+1+DESADV:D:97B:UN:EXWL15'BGM+15+5109329+9'DTM+137:201412221705:203'NAD+FX+::86++RP+Mussalon terminaali+KOTKA++48310+FI'NAD+FP+4400101:100++Kotkamills Oy+Norskankatu 6+Kotka++FI-48101+FI'NAD+CZ+4400101:100++Kotkamills Oy'TDT+10++2++VR::86:VR+++44226-9'LOC+5+FIIMATRA::86:IMATRA'DTM+180:201501100000:203'DTM+143:201412221649:203'LOC+8+FIKTMU::86:KOTKA'DTM+132:201412221649:203'EQD+RR+44226-9'CPS+MOL'PAC+22++RL'MEA+AAE+AAL+KGM:22316'MEA+AAE+G+KGM:22316'MEA+AAE+WD+MMT:2530'MEA+AAE+DI+MMT:879'PCI+16+DONGWHAC-141114-'LIN+2'PIA+1+48043180:HS'NAD+OS+003708274241:100++Kotkamills Oy'NAD+SB+FCFORES::86++FCFORES'NAD+FX+DONGWHAC::86++DONGWHAC'NAD+CZ+003708274241:100++Kotkamills Oy'TDT+20++1+++++ZDHM4:::HOOGE'FTX+AAA+++PAPER'RFF+CU:TLKR-400030:2'RFF+VON:KTKHAM05010'DTM+ZEL:201501100000:203'LOC+5+FIIMATRA::86:Tainio Millwarehouse'LOC+8+FIKTMU::86:Kotka'LOC+20+KR:162:86:INCHEON'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1013'MEA+AAE+AAL+KGM:1013'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050638140219'GIN+ZPI+1001'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1013'MEA+AAE+AAL+KGM:1013'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050639140219'GIN+ZPI+1002'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1024'MEA+AAE+AAL+KGM:1024'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050640140219'GIN+ZPI+1003'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1014'MEA+AAE+AAL+KGM:1014'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050641140219'GIN+ZPI+1004'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1019'MEA+AAE+AAL+KGM:1019'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050642140219'GIN+ZPI+1005'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1020'MEA+AAE+AAL+KGM:1020'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050643140219'GIN+ZPI+1006'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1013'MEA+AAE+AAL+KGM:1013'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050644140219'GIN+ZPI+1007'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1015'MEA+AAE+AAL+KGM:1015'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050645140219'GIN+ZPI+1008'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1020'MEA+AAE+AAL+KGM:1020'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050646140219'GIN+ZPI+1009'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1013'MEA+AAE+AAL+KGM:1013'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050647140219'GIN+ZPI+1010'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1013'MEA+AAE+AAL+KGM:1013'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050648140219'GIN+ZPI+1011'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1009'MEA+AAE+AAL+KGM:1009'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050649140219'GIN+ZPI+1012'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1016'MEA+AAE+AAL+KGM:1016'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050650140219'GIN+ZPI+1013'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1011'MEA+AAE+AAL+KGM:1011'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050651140219'GIN+ZPI+1014'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1015'MEA+AAE+AAL+KGM:1015'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050652140219'GIN+ZPI+1015'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1013'MEA+AAE+AAL+KGM:1013'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050653140219'GIN+ZPI+1016'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1014'MEA+AAE+AAL+KGM:1014'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050654140219'GIN+ZPI+1017'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1011'MEA+AAE+AAL+KGM:1011'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050655140219'GIN+ZPI+1018'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1012'MEA+AAE+AAL+KGM:1012'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050656140219'GIN+ZPI+1019'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1014'MEA+AAE+AAL+KGM:1014'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050657140219'GIN+ZPI+1020'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1005'MEA+AAE+AAL+KGM:1005'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050658140219'GIN+ZPI+1021'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1019'MEA+AAE+AAL+KGM:1019'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050661140219'GIN+ZPI+1022'CPS+MOL'PAC+7++RL'MEA+AAE+AAL+KGM:7075'MEA+AAE+G+KGM:7075'MEA+AAE+WD+MMT:2530'MEA+AAE+DI+MMT:879'PCI+16+DONGWHAC-141114-'LIN+1'PIA+1+48043180:HS'NAD+OS+003708274241:100++Kotkamills Oy'NAD+SB+FCFORES::86++FCFORES'NAD+FX+DONGWHAC::86++DONGWHAC'NAD+CZ+003708274241:100++Kotkamills Oy'TDT+20++1+++++V7DF9:::LANTAU ARROW'FTX+AAA+++PAPER'RFF+CU:TLKR-400030:1'RFF+VON:KTKHAM05018'DTM+ZEL:201501100000:203'LOC+5+FIIMATRA::86:Tainio Millwarehouse'LOC+8+FIKTMU::86:Kotka'LOC+20+KR:162:86:INCHEON'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:983'MEA+AAE+AAL+KGM:983'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050610140219'GIN+ZPI+33'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1009'MEA+AAE+AAL+KGM:1009'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050629140219'GIN+ZPI+52'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1012'MEA+AAE+AAL+KGM:1012'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050632140219'GIN+ZPI+55'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1015'MEA+AAE+AAL+KGM:1015'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050633140219'GIN+ZPI+56'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1021'MEA+AAE+AAL+KGM:1021'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050634140219'GIN+ZPI+57'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1013'MEA+AAE+AAL+KGM:1013'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050636140219'GIN+ZPI+59'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1022'MEA+AAE+AAL+KGM:1022'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2530'PCI+999'GIN+ZUN+70050637140219'GIN+ZPI+60'CPS+MOL'PAC+24++RL'MEA+AAE+AAL+KGM:23984'MEA+AAE+G+KGM:23984'MEA+AAE+WD+MMT:2490'MEA+AAE+DI+MMT:879'PCI+16+DONGWHAC-141114-'LIN+3'PIA+1+48043180:HS'NAD+OS+003708274241:100++Kotkamills Oy'NAD+SB+FCFORES::86++FCFORES'NAD+FX+DONGWHAC::86++DONGWHAC'NAD+CZ+003708274241:100++Kotkamills Oy'TDT+20++1+++++V7DF9:::LANTAU ARROW'FTX+AAA+++PAPER'RFF+CU:TLKR-400030:3'RFF+VON:KTKHAM05018'DTM+ZEL:201501100000:203'LOC+5+FIIMATRA::86:Tainio Millwarehouse'LOC+8+FIKTMU::86:Kotka'LOC+20+KR:162:86:INCHEON'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:997'MEA+AAE+AAL+KGM:997'MEA+AAE+DI+MMT:910'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050662140219'GIN+ZPI+2001'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:997'MEA+AAE+AAL+KGM:997'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050688140219'GIN+ZPI+2023'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:998'MEA+AAE+AAL+KGM:998'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050689140219'GIN+ZPI+2024'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1006'MEA+AAE+AAL+KGM:1006'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050690140219'GIN+ZPI+2025'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:996'MEA+AAE+AAL+KGM:996'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050691140219'GIN+ZPI+2026'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:997'MEA+AAE+AAL+KGM:997'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050692140219'GIN+ZPI+2027'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1010'MEA+AAE+AAL+KGM:1010'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050693140219'GIN+ZPI+2028'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:997'MEA+AAE+AAL+KGM:997'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050694140219'GIN+ZPI+2029'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1000'MEA+AAE+AAL+KGM:1000'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050695140219'GIN+ZPI+2030'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1000'MEA+AAE+AAL+KGM:1000'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050697140219'GIN+ZPI+2031'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:994'MEA+AAE+AAL+KGM:994'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050698140219'GIN+ZPI+2032'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:991'MEA+AAE+AAL+KGM:991'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050699140219'GIN+ZPI+2033'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:998'MEA+AAE+AAL+KGM:998'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050700140219'GIN+ZPI+2034'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:999'MEA+AAE+AAL+KGM:999'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050701140219'GIN+ZPI+2035'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1001'MEA+AAE+AAL+KGM:1001'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050702140219'GIN+ZPI+2036'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:996'MEA+AAE+AAL+KGM:996'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050703140219'GIN+ZPI+2037'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:997'MEA+AAE+AAL+KGM:997'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050704140219'GIN+ZPI+2038'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1006'MEA+AAE+AAL+KGM:1006'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050705140219'GIN+ZPI+2039'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:996'MEA+AAE+AAL+KGM:996'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050706140219'GIN+ZPI+2040'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:998'MEA+AAE+AAL+KGM:998'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050707140219'GIN+ZPI+2041'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1000'MEA+AAE+AAL+KGM:1000'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050708140219'GIN+ZPI+2042'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:996'MEA+AAE+AAL+KGM:996'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050709140219'GIN+ZPI+2043'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:997'MEA+AAE+AAL+KGM:997'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050710140219'GIN+ZPI+2044'CPS+PKG'PAC+999++RL'MEA+AAE+G+KGM:1017'MEA+AAE+AAL+KGM:1017'MEA+AAE+DI+MMT:900'MEA+AAE+WD+MMT:2490'PCI+999'GIN+ZUN+70050711140219'GIN+ZPI+2045'UNT+553+1'UNZ+1+240'";

  kasittele_rahtikirjasanoma($sanoma);

}

if ($task == 'I1') {

  $sanoma ="UNB+UNOC:2+003708274241:30+003706800420:30+140919:0146+92477++++++'
UNH+2057831+IFTSTA:D:99B:UN:SE0015'
BGM+132+KTKANT24091+5'
DTM+137:201409190146:203'
LOC+5+FIKTKC'
CNI+1'
STS+1'
EQD+CN+KONTTI1'
RFF+CU:KTKANT24091'
RFF+ZMR:MRN001'
UNT+9+2057831'
UNZ+1+92477'";

  kasittele_iftsta($sanoma);

}


if ($task == 'I2') {

  $sanoma ="UNB+UNOC:2+003708274241:30+003706800420:30+140919:0146+92477++++++'
UNH+2057831+IFTSTA:D:99B:UN:SE0015'
BGM+132+MATKA123+5'
DTM+137:201409190146:203'
LOC+5+FIKTKC'
CNI+1'
STS+1'
EQD+CN+KONTTI2'
RFF+CU:MATKA123'
RFF+ZMR:MRN001'
UNT+9+2057831'
UNZ+1+92477'";

  kasittele_iftsta($sanoma);

}

if ($task == 'I3') {

  $sanoma ="UNB+UNOC:2+003708274241:30+003706800420:30+140919:0146+92477++++++'
UNH+2057831+IFTSTA:D:99B:UN:SE0015'
BGM+132+MATKA123+5'
DTM+137:201409190146:203'
LOC+5+FIKTKC'
CNI+1'
STS+1'
EQD+CN+KONTTI1'
RFF+CU:MATKA123'
RFF+ZMR:MRN002'
UNT+9+2057831'
UNZ+1+92477'";

  kasittele_iftsta($sanoma);

}


if ($task == 'nollaa') {
  $taulut = array(
      "tilausrivi",
      "tilausrivin_lisatiedot",
      "lasku",
      "laskun_lisatiedot",
      "sarjanumeroseuranta",
      "liitetiedostot");

  foreach ($taulut as $taulu) {
    $query = "TRUNCATE TABLE {$taulu}";
    pupe_query($query);
  }
}

if ($task == 'hae') {

  $host = $ftp_info['host'];
  $user = $ftp_info['user'];
  $pass = $ftp_info['pass'];

  // Connect to host
  $yhteys = ftp_connect($host);

  // Open a session to an external ftp site
  $login = ftp_login($yhteys, $user, $pass);

  // Check open
  if ((!$yhteys) || (!$login)) {
    echo t("Ftp-yhteyden muodostus epaonnistui! Tarkista salasanat."); die;
  }
  else {
    echo t("Ftp-yhteys muodostettu.")."<br/>";
  }

  ftp_chdir($yhteys, 'out-prod');

  ftp_pasv($yhteys, true);

  $files = ftp_nlist($yhteys, ".");

  foreach ($files as $file) {


    if (substr($file, -3) == 'IFF') {
      $bookkaukset[] = $file;
    }


  }


  foreach ($bookkaukset as $bookkaus) {
    $temp_file = tempnam("/tmp", "IFF-");
    ftp_get($yhteys, $temp_file, $bookkaus, FTP_ASCII);
    $edi_data = file_get_contents($temp_file);
    kasittele_bookkaussanoma($edi_data);
    unlink($temp_file);
  }

  foreach ($rahtikirjat as $rahtikirja) {
    $temp_file = tempnam("/tmp", "DAD-");
    ftp_get($yhteys, $temp_file, $rahtikirja, FTP_ASCII);
    $edi_data = file_get_contents($temp_file);
    kasittele_rahtikirjasanoma($edi_data);
    unlink($temp_file);
  }

  foreach ($iftstat as $iftsta) {
    $temp_file = tempnam("/tmp", "IFT-");
    ftp_get($yhteys, $temp_file, $iftsta, FTP_ASCII);
    $edi_data = file_get_contents($temp_file);
    kasittele_iftsta($edi_data);
    unlink($temp_file);
  }

  ftp_close($yhteys);

}
else{



  echo "
  <font class='head'>".t("Sanomien haku")."</font>  <br><hr>
  <form action='' method='post'>
    <input type='hidden' name='task' value='hae' />
    <input type='submit' value='".t("Hae sanomat (ftp)")."'>
  </form>  <br><hr><br>";



  echo "
  <font class='head'>".t("Testaus")."</font>

  <br><br>

  TILAUS-0001<br><br>

  <form action='' method='post'>
    <input type='hidden' name='task' value='B1' />
    <input type='submit' value='".t("Hae bookkaus 1.")."'>
  </form>


  <form action='' method='post'>
    <input type='hidden' name='task' value='B2' />
    <input type='submit' value='".t("Hae bookkaus 2.")."'>
  </form>



  <form action='' method='post'>
    <input type='hidden' name='task' value='R1' />
    <input type='submit' value='".t("Hae rahtikirja 1.")."'>
  </form>


  <br><hr><br>

  TILAUS-0002<br><br>

  <form action='' method='post'>
    <input type='hidden' name='task' value='B3' />
    <input type='submit' value='".t("Hae bookkaus 3.")."'>
  </form>



  <form action='' method='post'>
    <input type='hidden' name='task' value='R2' />
    <input type='submit' value='".t("Hae rahtikirja 2.")."'>
  </form>

  <br><hr><br>

  TILAUS-0003<br><br>

  <form action='' method='post'>
    <input type='hidden' name='task' value='B4' />
    <input type='submit' value='".t("Hae bookkaus 4.")."'>
  </form>



  <form action='' method='post'>
    <input type='hidden' name='task' value='R3' />
    <input type='submit' value='".t("Hae rahtikirja 3.")."'>
  </form>



  <form action='' method='post'>
    <input type='hidden' name='task' value='R4' />
    <input type='submit' value='".t("Hae rahtikirja 4.")."'>
  </form>

  <br><hr><br>

  TILAUS-0003<br><br>

  <form action='' method='post'>
    <input type='hidden' name='task' value='I1' />
    <input type='submit' value='".t("Hae IFTSTA 1.")."'>
  </form>



  <form action='' method='post'>
    <input type='hidden' name='task' value='I2' />
    <input type='submit' value='".t("Hae IFTSTA 2.")."'>
  </form>



  <form action='' method='post'>
    <input type='hidden' name='task' value='I3' />
    <input type='submit' value='".t("Hae IFTSTA 3.")."'>
  </form>

  <br><hr><br>



  <form action='' method='post'>
    <input type='hidden' name='task' value='nollaa' />
    <input type='submit' value='".t("Nollaa tilanne")."'>
  </form>


  ";


}

require "inc/footer.inc";

